ace.define("ace/ext/beautify",["require","exports","module","ace/token_iterator"],function(e,t,n){"use strict";function i(e,t){return e.type.lastIndexOf(t+".xml")>-1}var r=e("../token_iterator").TokenIterator;t.singletonTags=["area","base","br","col","command","embed","hr","html","img","input","keygen","link","meta","param","source","track","wbr"],t.blockTags=["article","aside","blockquote","body","div","dl","fieldset","footer","form","head","header","html","nav","ol","p","script","section","style","table","tbody","tfoot","thead","ul"],t.beautify=function(e){var n=new r(e,0,0),s=n.getCurrentToken(),o=e.getTabString(),u=t.singletonTags,a=t.blockTags,f,l=!1,c="",h="",p="",d=0,v=!1,m=!1,g=!1,y=!1,b,w=0,E=0,S=[],x=!1,T,N=!1;while(s!==null){h=s.value,w=n.getCurrentTokenRow(),S=n.$rowTokens,f=n.stepForward(),i(s,"tag-open")&&h==="<"&&f&&(v=a.indexOf(f.value)!==-1),i(s,"comment.start")?(m=!0,v=!0):i(s,"comment.end")&&(m=!1,v=!1),i(s,"tag-open")&&h==="</"&&(i(s,"tag-open")&&h==="</"&&v&&!l&&E++,d--,v=!1),y=!1,s.type==="keyword"&&h.match(/^(case|default)$/)?(y=!0,g=!0):s.type==="keyword"&&h==="break"&&(g=!1),w!=b&&(E=w,b&&(E-=b));if(E){c=c.trimRight();for(;E>0;E--)c+="\n";l=!0,m||(h=h.trimLeft())}if(h){s.type==="keyword"&&h.match(/^(if|else|elseif|for|while|switch)$/)?(h+=" ",f.value=f.value.trim(),!l&&s.type==="keyword"&&h.trim().match(/^(else|elseif)$/)&&(c=c.trimRight(),h=" "+h)):s.type==="paren.lparen"?(f.value=f.value.trim(),h.substr(-1)==="{"&&(c=c.replace(/ +$/,""),h+=" "),h.substr(0,1)==="{"&&!c.match(/\s$/)&&(h=" "+h)):s.type==="paren.rparen"?(c=c.replace(/ +$/,""),h.substr(0,1)==="}"&&!c.match(/\s$/)&&(h=" "+h)):s.type!=="keyword.operator"&&s.type!=="keyword"||!h.match(/^(=|==|===|!=|!==|&&|\|\||and|or|xor|\+=|.=|>|>=|<|<=)$/)?s.type==="support.php_tag"&&h==="?>"&&!l&&(c=c.trimRight(),h=" "+h):(c=c.trimRight(),h=" "+h+" ",f.value=f.value.trim());if(w!=b&&S){x=!1;for(T=0;T<S.length&&!x;T++)S[T].type=="paren.rparen"?(d--,x=!0):S[T].type=="paren.lparen"&&(x=!0)}if(l&&!i(s,"comment")){var C=d;g&&!y&&C++,N&&(C++,N=!1);for(T=0;T<C;T++)c+=o}if(w!=b&&S){N=null,x=!1;for(T=S.length-1;T>=0&&!x;T--)S[T].type=="paren.rparen"?x=!0:S[T].type=="paren.lparen"&&(d++,N=!1,x=!0)}N!==!1&&s.type==="keyword"&&h.trim().match(/^(if|else|elseif|for|while)$/)&&(N=!0),c+=h,l=!1;if(i(s,"tag-close")&&(v||a.indexOf(p)!==-1)||i(s,"doctype")&&h==">")v&&f&&f.value==="</"?E--:E++;i(s,"tag-open")&&h==="<"&&u.indexOf(f.value)===-1&&d++,i(s,"tag-name")&&(p=h),i(s,"tag-close")&&h==="/>"&&u.indexOf(p)===-1&&d--,b=w}s=f}c=c.trim(),e.doc.setValue(c)},t.commands=[{name:"beautify",exec:function(e){t.beautify(e.session)},bindKey:"Ctrl-Shift-B"}]});
                (function() {
                    ace.require(["ace/ext/beautify"], function() {});
                })();
            